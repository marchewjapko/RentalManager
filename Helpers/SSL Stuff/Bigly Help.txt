openssl req -x509 -nodes \
  -newkey RSA:2048       \
  -keyout root-ca.key    \
  -days 365              \
  -out root-ca.crt       \
  -subj '/C=PL/ST=Mazovia/L=Warsaw/O=Joey/CN=root_CA_for_firefox'

  openssl req -nodes   \
  -newkey rsa:2048   \
  -keyout authentik.key \
  -out authentik.csr    \
  -subj '/C=PL/ST=Mazovia/L=Warsaw/O=JoeyAuthentik/CN=joey_cn'

  openssl x509 -req    \
  -CA root-ca.crt    \
  -CAkey root-ca.key \
  -in authentik.csr     \
  -out authentik.crt    \
  -days 365          \
  -CAcreateserial    \
  -extfile <(printf "subjectAltName = DNS:authentik.local\nauthorityKeyIdentifier = keyid,issuer\nbasicConstraints = CA:FALSE\nkeyUsage = digitalSignature, keyEncipherment\nextendedKeyUsage=serverAuth")

  openssl pkcs12 -export -in root-ca.crt -inkey root-ca.key -out root-ca.p12